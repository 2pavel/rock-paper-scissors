<!doctype html>
<html>
<head>
<link rel="stylesheet" href="rps.css">
</head>
<body>

<div>
<h1>Rock, paper, scissors! First to get 3 points wins!</h1>
<h2>Draws grant no points.</h2>
</div>
<div class="buttons">

<button id="rock">ROCK</button>
<button id="paper">PAPER</button>
<button id="scissors">SCISSORS</button>

</div>
<div id="cpuchoice">
Computer choice
</div>

<div class="results">
<p id="score">Score</p>
</div>

<script>
let a=0;
let b=0;
let computer;

function computerPlay(){
	computer = Math.floor(3 * Math.random());
}

function letsplay(){
	if (player - computer > 0 && player - computer != 2 && player - computer != 0 || player - computer == -2) {
		console.log('You win!');
		a=a+1;
		
	}
	else if (player - computer == 0){
		console.log('Draw!');
	}
	else {
		console.log('You lose!');
		b=b+1;
	}
}

var i;
let player;

//for(i=0; i < 5; i++) 
	
	{
const btns = document.querySelectorAll('button');
const rock = document.querySelector('#rock');
const paper = document.querySelector('#paper');
const scissors = document.querySelector('#scissors');
const prints = document.querySelector('#score');
const results = document.querySelector('.results');

btns.forEach((button) => {
	button.addEventListener('click', (e) => {
		player = button.id;
		switch(player) {
			case 'rock':
			player = 0;
			break;
			case 'paper':
			player = 1;
			break;
			case 'scissors':
			player = 2;
			break;
			default:
			console.log('Yikes');
		}
		
	computerPlay();	
	let cc;
		switch(computer) {
			case 0:
			cc = 'rock';
			break;
			case 1:
			cc = 'paper';
			break;
			case 2:
			cc = 'scissors';
			break;
			default:
			console.log('Hit yourself in the head if this pops up in console.');
			}
	
	console.log('--------------------------------');	
	console.log('Computer chose ' + cc + '!');
	console.log('player = ' + player);
	console.log('computer = ' + computer);
	
	document.getElementById('cpuchoice').innerHTML = 'Computer chose ' + cc + '!';
	letsplay(player, computer);
	let pc;
		switch(player) {
			case 0:
			pc = 'rock';
			break;
			case 1:
			pc = 'paper';
			break;
			case 2:
			pc = 'scissors';
			break;
			default:
			console.log('Hit yourself in the head if this pops up in console.');
			}
		
	console.log(pc + ' vs ' + cc +'!');
	console.log('Current score: ' + a + ' : ' + b)
	console.log('--------------------------------');
	var currentscore = document.createElement('p');
	currentscore.textContent = 'Current score: ' + a + ' : ' + b;
	if (document.getElementById('score') == 'score')
		prints.appendChild(currentscore);
	else
		prints.innerHTML = 'Current score: ' + a + ' : ' + b;
	
	if (a == 3 || b == 3) {
		
		var final = document.createElement('p');
		console.log('final score: ' + a + ' : ' + b);
		prints.innerHTML = "Final score: " + a + " : " + b;
		if (a > b) {
			console.log('You win the match!');
			final.textContent = 'YOU WIN!';
		}
		else {
			console.log('Computer won the match!');
			final.textContent = 'You loose';
		}
		results.appendChild(final);
		a = 0;
		b = 0;
	}
				
		});
	});	

	}
		
	
</script>
<!-- 0 rock 1 paper 2 scissors -->

</body>
</html>
